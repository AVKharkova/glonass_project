# Клиент для API GlonassSoft

Поект представляет собой Python-скрипт для взаимодействия с API GlonassSoft. Он позволяет автоматизировать запросы к различным эндпоинтам API, включая аутентификацию, получение данных об объектах, датчиках, событиях и т.д. Скрипт также выполняет логирование всех запросов и ответов и валидацию ответов API с использованием Pydantic моделей.

## Особенности

*   **Аутентификация**: Автоматическое получение и использование токена авторизации (`X-Auth`).
*   **Взаимодействие с API**: Поддержка последовательных запросов к различным эндпоинтам.
*   **Логирование**: Подробное логирование запросов и ответов как в консоль, так и в отдельный файл (`api_calls_ru_validated.log`) с кодировкой UTF-8.
*   **Управление задержками**: Соблюдение требуемой задержки между запросами для предотвращения блокировки (по умолчанию 1 секунда).
*   **Валидация ответов**: Использование Pydantic моделей для валидации структуры и типов данных в ответах API.
*   **Конфигурация через `.env`**: Удобное управление учетными данными и другими параметрами через файл `.env`.

## Требования

*   Python 3.8+
*   pip (менеджер пакетов Python)

## Установка

1.  **Клонируйте репозиторий (если применимо):**
    ```bash
    git clone https://github.com/AVKharkova/glonass_project.git
    cd glonass_project
    ```

2.  **Установите зависимости:**
    Создайте виртуальное окружение (рекомендуется):
    ```bash
    python -m venv venv
    # Активируйте виртуальное окружение:
    # Windows
    venv\Scripts\activate
    # macOS/Linux
    source venv/bin/activate
    ```
    Установите необходимые пакеты:
    ```bash
    pip install -r requirements.txt
    ```

## Конфигурация

1.  **Создайте файл `.env`** в корневой директории проекта. Скопируйте содержимое из файла `.env.example` (если он есть) или создайте новый со следующими переменными:

    ```dotenv
    API_LOGIN=your_glonasssoft_login
    API_PASSWORD=your_glonasssoft_password
    API_BASE_URL=https://hosting.glonasssoft.ru/api/v3

    # Опционально: ID тестовых транспортных средств
    # Замените на реальные ID из вашей системы для корректного тестирования
    VEHICLE_ID_1=12345
    VEHICLE_ID_2=67890

    # Опционально: ID клиента-родителя для запроса списка водителей
    CLIENT_PARENT_ID=your_client_parent_guid_here
    ```

2.  **Замените `your_glonasssoft_login`, `your_glonasssoft_password`** и другие значения-плейсхолдеры на ваши реальные данные.

## Структура проекта

*   `glonass_api_client_ru_validated.py`: Основной исполняемый скрипт клиента.
*   `glonass_schemas.py`: Файл с Pydantic моделями для валидации данных API.
*   `.env`: Файл для хранения учетных данных и конфигурации.
*   `api_calls_ru_validated.log`: Файл, в который будут записываться логи выполнения скрипта.

## Использование

Для запуска скрипта выполните команду в терминале, находясь в корневой директории проекта (и с активированным виртуальным окружением):

```bash
python glonass_api_client.py

---
## Автор
**[Анастасия Харькова](https://github.com/AVKharkova)**